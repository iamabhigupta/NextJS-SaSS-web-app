(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5345],{73192:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return t(54522)}])},54522:function(e,n,t){"use strict";t.r(n);var a=t(85893),r=t(67294),i=t(9669),l=t.n(i),s=t(41664),c=t.n(s),o=t(11163),d=t(87357),u=t(66242),h=t(86886),x=t(12134),m=t(18972),p=t(11496),f=t(15861),g=t(78445),Z=t(47312),j=t(94054),v=t(44267),S=t(18360),y=t(78687),_=t(9657),b=t(17261),P=t(3690),w=t(99642),C=t(9473),k=t(74628),N=(t(28538),t(49582)),W=t(80445),I=t(97758),A={admin:(0,a.jsx)(y.Z,{sx:{mr:2,color:"error.main"}}),author:(0,a.jsx)(b.Z,{sx:{mr:2,color:"warning.main"}}),editor:(0,a.jsx)(P.Z,{sx:{mr:2,color:"info.main"}}),maintainer:(0,a.jsx)(_.Z,{sx:{mr:2,color:"success.main"}}),subscriber:(0,a.jsx)(w.Z,{sx:{mr:2,color:"primary.main"}})},B={active:"success",pending:"warning",inactive:"secondary"},F=((0,p.ZP)(c())((function(e){return{marginRight:e.theme.spacing(3)}})),(0,p.ZP)(c())((function(e){return{textDecoration:"none",marginRight:e.theme.spacing(3)}})),function(e){e.avatar}),q=((0,p.ZP)("a")((function(e){var n=e.theme;return{width:"100%",display:"flex",alignItems:"center",textDecoration:"none",padding:n.spacing(1.5,4),color:n.palette.text.primary}})),[{flex:.2,minWidth:230,field:"name",headerName:"Products",renderCell:function(e){var n=e.row;n.id,n.fullName,n.username;return(0,a.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[F(n),(0,a.jsx)(d.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,a.jsx)(f.Z,{noWrap:!0,component:"a",variant:"caption",sx:{textDecoration:"none"},children:n.title})})]})}},{flex:.2,minWidth:250,field:"price",headerName:"Price",renderCell:function(e){var n=e.row;return(0,a.jsx)(f.Z,{noWrap:!0,variant:"body2",children:n.price})}},{flex:.15,field:"role",minWidth:150,headerName:"Inventory",renderCell:function(e){var n=e.row;return(0,a.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[A[n.role],(0,a.jsx)(f.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:n.role})]})}},{flex:.15,minWidth:120,headerName:"Plan",field:"currentPlan",renderCell:function(e){var n=e.row;return(0,a.jsx)(f.Z,{variant:"subtitle1",noWrap:!0,sx:{textTransform:"capitalize"},children:n.currentPlan})}},{flex:.1,minWidth:110,field:"status",headerName:"Status",renderCell:function(e){var n=e.row;return(0,a.jsx)(k.Z,{skin:"light",size:"small",label:n.status,color:B[n.status],sx:{textTransform:"capitalize","& .MuiChip-label":{lineHeight:"18px"}}})}}]);n.default=function(){var e=(0,r.useState)(""),n=e[0],t=e[1],i=(0,r.useState)(""),s=i[0],c=i[1],d=(0,r.useState)(""),p=d[0],f=d[1],y=(0,r.useState)(""),_=y[0],b=y[1],P=(0,r.useState)(10),w=P[0],k=P[1],A=(0,r.useState)(!1),B=A[0],F=A[1],z=((0,o.useRouter)(),(0,r.useState)([])),E=z[0],T=z[1],D=(0,r.useState)([]),O=(D[0],D[1]);(0,r.useEffect)((function(){var e="",n=JSON.parse(window.localStorage.getItem("userData"));l()({url:"https://api.tryme.info/graphql",method:"post",data:{query:"\n    query {\n      storeFindAllByUser(user_id: ".concat(n.id,") {\n          id,\n          user_id,\n          name,\n          site_name,\n          description,\n          image,\n          status,\n          created_at,\n          updated_at\n      }\n  }")},headers:{Authorization:"Bearer "+window.localStorage.getItem("accessToken")}}).then((function(n){console.log(n.data.data.storeFindAllByUser),O(n.data.data.storeFindAllByUser),0===(n.data.data.storeFindAllByUser||[]).length&&(e="#@"),(n.data.data.storeFindAllByUser||[]).length>0&&(e=n.data.data.storeFindAllByUser[0].site_name),l()({url:"https://api.tryme.info/graphql",method:"post",data:{query:'\n        query {\n          productFindAllBySiteName(site_name: "'.concat(e,'") {\n              id,\n              store_id,\n              category_id,\n              title,\n              short_description,\n              long_description,\n              html_content,\n              price,\n              discount,\n              country_of_origin,\n              image,\n              attributes {\n                  name,\n                  value\n              },\n              faqs {\n                  id,\n                  question,\n                  answer,\n              },\n              stock,\n              status,\n              created_at,\n              updated_at\n          }\n      }')},headers:{Authorization:"Bearer "+window.localStorage.getItem("accessToken")}}).then((function(e){console.log(e.data.data.productFindAllBySiteName),(e.data.data.productFindAllBySiteName||[]).length>0?T(e.data.data.productFindAllBySiteName):T([])}))}))}),[]);var R=(0,C.I0)();(0,C.v9)((function(e){return e.user}));(0,r.useEffect)((function(){R((0,N.rQ)({role:n,status:_,q:p,currentPlan:s}))}),[R,s,n,_,p]);var U=(0,r.useCallback)((function(e){f(e)}),[]),K=(0,r.useCallback)((function(e){t(e.target.value)}),[]),H=(0,r.useCallback)((function(e){c(e.target.value)}),[]),M=(0,r.useCallback)((function(e){b(e.target.value)}),[]),X=function(){return F(!B)};return(0,a.jsxs)(h.ZP,{container:!0,spacing:6,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(g.Z,{title:"Search Filters",sx:{pb:4,"& .MuiCardHeader-title":{letterSpacing:".15px"}}}),(0,a.jsx)(v.Z,{children:(0,a.jsxs)(h.ZP,{container:!0,spacing:6,children:[(0,a.jsx)(h.ZP,{item:!0,sm:4,xs:12,children:(0,a.jsxs)(j.Z,{fullWidth:!0,children:[(0,a.jsx)(Z.Z,{id:"role-select",children:"Select Category"}),(0,a.jsxs)(S.Z,{fullWidth:!0,value:n,id:"select-role",label:"Select Category",labelId:"role-select",onChange:K,inputProps:{placeholder:"Select Category"},children:[(0,a.jsx)(m.Z,{value:"",children:"Select Category"}),(0,a.jsx)(m.Z,{value:"admin",children:"Kirana"}),(0,a.jsx)(m.Z,{value:"author",children:"Kirana"}),(0,a.jsx)(m.Z,{value:"editor",children:"Kirana"}),(0,a.jsx)(m.Z,{value:"maintainer",children:"Kirana"}),(0,a.jsx)(m.Z,{value:"subscriber",children:"Kirana"})]})]})}),(0,a.jsx)(h.ZP,{item:!0,sm:4,xs:12,children:(0,a.jsxs)(j.Z,{fullWidth:!0,children:[(0,a.jsx)(Z.Z,{id:"plan-select",children:"Stock"}),(0,a.jsxs)(S.Z,{fullWidth:!0,value:s,id:"select-plan",label:"Stock",labelId:"plan-select",onChange:H,inputProps:{placeholder:"Select Plan"},children:[(0,a.jsx)(m.Z,{value:"",children:"Stock"}),(0,a.jsx)(m.Z,{value:"basic",children:"In Stock"}),(0,a.jsx)(m.Z,{value:"company",children:"Out of Stock"})]})]})}),(0,a.jsx)(h.ZP,{item:!0,sm:4,xs:12,children:(0,a.jsxs)(j.Z,{fullWidth:!0,children:[(0,a.jsx)(Z.Z,{id:"status-select",children:"Select Status"}),(0,a.jsxs)(S.Z,{fullWidth:!0,value:_,id:"select-status",label:"Select Status",labelId:"status-select",onChange:M,inputProps:{placeholder:"Select Role"},children:[(0,a.jsx)(m.Z,{value:"",children:"Select Role"}),(0,a.jsx)(m.Z,{value:"pending",children:"Pending"}),(0,a.jsx)(m.Z,{value:"active",children:"Active"}),(0,a.jsx)(m.Z,{value:"inactive",children:"Inactive"})]})]})})]})})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(W.Z,{value:p,handleFilter:U,toggle:X}),(0,a.jsx)(x._,{autoHeight:!0,rows:E,columns:q,checkboxSelection:!0,pageSize:w,disableSelectionOnClick:!0,rowsPerPageOptions:[10,25,50],sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onPageSizeChange:function(e){return k(e)}})]})}),(0,a.jsx)(I.Z,{open:B,toggle:X})]})}}},function(e){e.O(0,[135,2657,6628,4231,2134,5496,972,9774,2888,179],(function(){return n=73192,e(e.s=n);var n}));var n=e.O();_N_E=n}]);